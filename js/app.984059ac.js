(function(t){function e(e){for(var n,s,o=e[0],c=e[1],u=e[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(m.length)m.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={app:0},i=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/spotify-card-deck/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},5261:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{id:"app"}},[t.isMobile?r("v-app-bar",{staticClass:"flex-grow-0",attrs:{dark:""}},[t.isLoggedOut?t._e():r("v-app-bar-nav-icon",{on:{click:function(e){t.$refs.drawer.drawer=!t.$refs.drawer.drawer}}}),r("v-toolbar-title",[t._v("Spotify Card Deck")])],1):t._e(),t.isMobile&&!t.isLoggedOut?r("MobileNavigation",{ref:"drawer",attrs:{drawer:t.drawer,user:t.user},on:{logout:t.logout,timeSpan:function(e){return t.setTimeSpan(e)}}}):t._e(),t.isLoading||t.isMobile||t.isLoggedOut?t._e():r("SideNavigation",{attrs:{user:t.user},on:{logout:t.logout,timeSpan:function(e){return t.setTimeSpan(e)}}}),r("v-main",[r("div",{attrs:{id:"testeimg"}}),t.isLoggedOut&&!t.isLoading?r("Login"):t._e(),t.isLoading?r("Loading"):t._e(),t.isLoading||t.isLoggedOut||!t.topTrack?t._e():r("v-container",[r("v-row",[r("v-col",{staticClass:"my-10",attrs:{"align-self":"center",cols:12}},[r("h2",{staticClass:"text-center"},[t._v("Your prism card is")])]),r("v-col",{staticClass:"text-center",attrs:{"align-self":"center",cols:12}},[r("PrismCard",{attrs:{image:t.topTrack.album.images[0].url,artist:t.topArtist.name,stats:t.topTrackData,name:t.topTrack.name,id:t.topTrack.id,isIOS:t.isIOS}})],1)],1),t.myTopTracks.tracks.length>0?r("v-row",[r("v-col",{staticClass:"text-center my-16",attrs:{cols:12}},[r("h2",[t._v("More on your deck:")])]),r("v-col",{attrs:{cols:12}},[r("OtherTracks",{attrs:{myTopTracks:t.myTopTracks,isIOS:t.isIOS}})],1)],1):t._e()],1),t.isLoading||t.isLoggedOut||t.topTrack?t._e():r("v-container",{staticClass:"fill-height justify-center flex-column"},[r("h2",{staticClass:"mb-5"},[t._v(" Sorry, but you don't have enough tracks to be analyzed... ")]),r("v-btn",{attrs:{color:"secondary",depressed:"",rounded:"",large:""},on:{click:t.logout}},[t._v("Login with another account!")])],1),r("div",{staticStyle:{height:"0",overflow:"hidden"},attrs:{id:"cardImageStories"}},[r("canvas",{staticStyle:{"background-color":"#000"},attrs:{id:"storiesCanvas",width:"1080",height:"1920"}})]),r("div",{staticStyle:{height:"0",overflow:"hidden"},attrs:{id:"cardImageFeed"}},[r("canvas",{staticStyle:{"background-color":"#000"},attrs:{id:"feedCanvas",width:"1080",height:"1080"}})])],1)],1)},i=[],s=(r("c975"),r("d81d"),r("96cf"),r("1da1")),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fill-height text-center flex-column justify-center",attrs:{align:"center",fluid:""}},[r("div",[r("h1",{staticClass:"mb-5"},[t._v("Spotify Card Deck")]),r("v-btn",{attrs:{rounded:"",color:"secondary",href:t.authLink,large:""}},[t._v("Login to get yours!")])],1)])},c=[],u={data:function(){return{authLink:"https://spotify-card-deck-backend.herokuapp.com/login"}}},l=u,d=r("2877"),m=r("6544"),p=r.n(m),f=r("8336"),h=r("a523"),g=Object(d["a"])(l,o,c,!1,null,null,null),v=g.exports;p()(g,{VBtn:f["a"],VContainer:h["a"]});var b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fill-height"},[r("v-row",[r("v-col",{attrs:{align:"center"}},[r("h2",{staticClass:"mb-5"},[t._v("Analyzing your deck...")]),r("v-progress-circular",{attrs:{indeterminate:"",size:"100",width:"10",color:"primary"}})],1)],1)],1)},k=[],w={name:"Loading"},x=w,y=r("62ad"),_=r("490a"),C=r("0fd9"),O=Object(d["a"])(x,b,k,!1,null,null,null),T=O.exports;p()(O,{VCol:y["a"],VContainer:h["a"],VProgressCircular:_["a"],VRow:C["a"]});var S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-navigation-drawer",{attrs:{fixed:"",dark:"",temporary:""},scopedSlots:t._u([{key:"append",fn:function(){return[r("Footer")]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-list",[t.userPicture?r("v-list-item",[r("v-list-item-avatar",[r("v-img",{attrs:{src:t.userPicture}})],1)],1):r("v-list-item",[r("v-icon",{staticClass:"mdi-36px"},[t._v("mdi-account-circle")])],1),r("v-list-item",[r("v-list-item-content",[r("v-list-item-subtitle",[t._v("HELLO,")]),r("v-list-item-title",{staticClass:"title"},[t._v(" "+t._s(t.getUserFirstName())+" ")])],1)],1)],1),r("v-divider"),r("v-list",[r("v-list-item-group",{attrs:{color:"primary"},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}},t._l(t.menuItems,(function(e,n){return r("v-list-item",{key:e.title,attrs:{link:""}},[r("v-list-item-content",[r("v-list-item-title",{on:{click:function(e){return t.handleTimeSpan(n)}}},[t._v(t._s(e.title))])],1)],1)})),1)],1),r("div",{staticClass:"ma-4"},[r("v-btn",{staticClass:"primary",attrs:{rounded:"",depressed:"",block:""},on:{click:t.logout}},[t._v("Logout")])],1)],1)},L=[],I=(r("ac1f"),r("1276"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),j=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-center d-flex flex-column"},[r("h3",{staticClass:"d-block"},[t._v("Spotify Card Deck")]),r("p",{staticClass:"d-block"},[t._v("Made with "),r("span",{staticClass:"pink--text"},[t._v("â™¥")]),t._v(" by "),r("a",{attrs:{href:"https://stebs.dev/"}},[t._v("stebsnusch")])])])}],V={data:function(){return{token:"",topArtists:[],topArtist:"",topTrack:"",isLoading:!0}},name:"Footer"},R=V,A=Object(d["a"])(R,I,j,!1,null,null,null),P=A.exports,M={data:function(){return{drawer:!1,group:null,userPicture:null,menuItems:[{title:"Last month"},{title:"Last 6 months"},{title:"All time"}]}},name:"MobileNavigation",components:{Footer:P},watch:{group:function(){this.drawer=!1}},props:["user"],mounted:function(){this.userPicture=this.user.images[0].url},methods:{logout:function(){this.$emit("logout")},handleTimeSpan:function(t){switch(t){case 0:return this.$emit("timeSpan","short_term");case 1:return this.$emit("timeSpan","medium_term");default:return this.$emit("timeSpan","long_term")}},getUserFirstName:function(){var t=this.user.display_name.split(" ")[0];return t}}},F=M,$=r("ce7e"),D=r("132d"),E=r("adda"),N=r("8860"),B=r("da13"),U=r("8270"),W=r("5d23"),z=r("1baa"),H=r("f774"),q=Object(d["a"])(F,S,L,!1,null,null,null),J=q.exports;p()(q,{VBtn:f["a"],VDivider:$["a"],VIcon:D["a"],VImg:E["a"],VList:N["a"],VListItem:B["a"],VListItemAvatar:U["a"],VListItemContent:W["a"],VListItemGroup:z["a"],VListItemSubtitle:W["b"],VListItemTitle:W["c"],VNavigationDrawer:H["a"]});var G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-navigation-drawer",{attrs:{fixed:"",dark:"",permanent:"",app:""},scopedSlots:t._u([{key:"append",fn:function(){return[r("Footer")]},proxy:!0}])},[r("v-list",[t.userPicture?r("v-list-item",[r("v-list-item-avatar",[r("v-img",{attrs:{src:t.userPicture}})],1)],1):r("v-list-item",[r("v-icon",{staticClass:"mdi-36px"},[t._v("mdi-account-circle")])],1),r("v-list-item",[r("v-list-item-content",[r("v-list-item-subtitle",[t._v("HELLO,")]),r("v-list-item-title",{staticClass:"title"},[t._v(" "+t._s(t.getUserFirstName())+" ")])],1)],1)],1),r("v-divider"),r("v-list",t._l(t.menuItems,(function(e,n){return r("v-list-item",{key:e.title,attrs:{link:""}},[r("v-list-item-content",[r("v-list-item-title",{on:{click:function(e){return t.handleTimeSpan(n)}}},[t._v(t._s(e.title))])],1)],1)})),1),r("div",{staticClass:"ma-4"},[r("v-btn",{staticClass:"primary",attrs:{rounded:"",depressed:"",block:""},on:{click:t.logout}},[t._v("Logout")])],1)],1)},K=[],Y={data:function(){return{userPicture:null,menuItems:[{title:"Last month"},{title:"Last 6 months"},{title:"All time"}]}},name:"SideNavigation",components:{Footer:P},mounted:function(){this.userPicture=this.user.images[0].url},props:["user"],methods:{logout:function(){this.$emit("logout")},handleTimeSpan:function(t){switch(t){case 0:return this.$emit("timeSpan","short_term");case 1:return this.$emit("timeSpan","medium_term");default:return this.$emit("timeSpan","long_term")}},getUserFirstName:function(){var t=this.user.display_name.split(" ")[0];return t}}},Q=Y,X=Object(d["a"])(Q,G,K,!1,null,null,null),Z=X.exports;p()(X,{VBtn:f["a"],VDivider:$["a"],VIcon:D["a"],VImg:E["a"],VList:N["a"],VListItem:B["a"],VListItemAvatar:U["a"],VListItemContent:W["a"],VListItemSubtitle:W["b"],VListItemTitle:W["c"],VNavigationDrawer:H["a"]});var tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",[t.id&&t.filteredStats?r("div",{ref:t.id,staticClass:"track mb-10",style:t.dynamicStyle()},[r("div",{staticClass:"header"},[r("div",{staticClass:"num"},[t._v("#1")]),r("div",{staticClass:"text"},[r("h3",{staticClass:"name"},[t._v(t._s(t.name.toUpperCase()))])])]),r("img",{attrs:{src:t.image},on:{load:function(e){return t.loaded(t.image)}}}),r("div",{staticClass:"skills"},t._l(t.filteredStats,(function(e){return r("div",{key:e.value,staticClass:"skill"},[r("span",[t._v(t._s(t.getFeatureTitle(e.name).toUpperCase()))]),t._v(" "+t._s((100*e.value).toFixed(1))+" ")])})),0)]):t._e(),r("div",{staticClass:"download d-flex flex-row justify-center my-5",attrs:{align:"center"}},[t.isIOS?t._e():r("v-btn",{attrs:{color:"primary",align:"center"},on:{click:function(e){return e.stopPropagation(),t.card.downloadCardImage(t.$refs,t.id,t.name)}}},[r("v-icon",{staticClass:"mr-2"},[t._v("mdi-download")]),t._v(" Download card ")],1)],1)]),r("div",{ref:t.id+"-"+t.name+"-DIV",staticStyle:{height:"0",overflow:"hidden"}})])},et=[],rt=(r("b0c0"),r("99af"),r("7db0"),r("b64b"),r("d4ec")),nt=r("bee2"),at=r("ade3"),it=r("70b0"),st=function(){function t(){var e=this;Object(rt["a"])(this,t),Object(at["a"])(this,"featureText",{acousticness:{text:"MANA"},valence:{text:"WILL"},energy:{text:"STRENGTH"},danceability:{text:"SPEED"},speechiness:{text:"PERSUASION"}}),Object(at["a"])(this,"getFeatureText",(function(t){return e.featureText[t]&&e.featureText[t].text})),Object(at["a"])(this,"filterFeatures",(function(t){var e={};return e.acousticness=t.acousticness,e.danceability=t.danceability,e.energy=t.energy,e.speechiness=t.speechiness,e.valence=t.valence,e})),Object(at["a"])(this,"getStats",(function(t){var r=[],n=Object.keys(e.filterFeatures(t));return n.map((function(e){return n.find((function(n){n===e&&r.push({name:n,value:t[n]})}))})),r})),Object(at["a"])(this,"generateClone",(function(t,e,r){var n="".concat(e,"-").concat(r,"-DIV"),a=t[n],i=t[e],s=i.cloneNode(!0);s.style.margin="0",a.appendChild(s)}))}return Object(nt["a"])(t,[{key:"generateImage",value:function(t,e,r){var n="".concat(e,"-").concat(r,"-DIV"),a=t[n].children[0];return it["toJpeg"](a,{bgcolor:"#000",style:{boxShadow:"none"}})}},{key:"downloadCardImage",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,r,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.generateImage(e,r,n).then((function(t){var e=document.createElement("a");e.download="CARD-".concat(n,".jpeg"),e.href=t,e.click()}));case 2:case"end":return t.stop()}}),t,this)})));function e(e,r,n){return t.apply(this,arguments)}return e}()}]),t}(),ot={name:"PrismCard",data:function(){return{card:"",filteredStats:null,imgSrc:null}},props:["stats","image","artist","name","id","isIOS"],mounted:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.card=new st,t.next=3,this.card.getStats(this.stats);case 3:this.filteredStats=t.sent;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getFeatureTitle:function(t){return this.card.getFeatureText(t)},loaded:function(){this.card.generateClone(this.$refs,this.id,this.name)},dynamicStyle:function(){var t="background-image: linear-gradient(to bottom right, rgb(194, 255, 182), rgb(255, 163, 182), rgb(221, 169, 255), rgb(162, 209, 255); box-shadow: inset 0 0 20px #fff, inset 10px 0 30px #f0f, inset -10px 0 30px #0ff, inset 10px 0 100px #f0f, inset -10px 0 100px #0ff, 0 0 20px #fff, -10px 0 30px #f0f, 10px 0 30px #0ff;",e=this.$vuetify.breakpoint.smAndDown?"width: 90%; font-size: 0.8em;":"width: 400px";return"".concat(t," ").concat(e)}}},ct=ot,ut=(r("f1ab"),Object(d["a"])(ct,tt,et,!1,null,"d4402dc0",null)),lt=ut.exports;p()(ut,{VBtn:f["a"],VIcon:D["a"]});var dt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.myTopTracks.tracks.length>0?r("div",{attrs:{id:"other-tracks"}},[r("v-carousel",{attrs:{"hide-delimiters":"",height:"auto"}},t._l(t.myTopTracks.tracks,(function(e,n){return r("v-carousel-item",{key:e.id},[r("Card",{attrs:{name:e.name,index:n+2,id:e.id,artist:e.artists[0].name,image:e.album.images[0].url,colors:t.getColors(e.album.images[0].url),stats:t.myTopTracks.audioFeatures[n],isIOS:t.isIOS}})],1)})),1)],1):t._e()},mt=[],pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",[t.lightColor&&t.darkColor?r("div",{ref:t.id,staticClass:"track",style:t.dynamicStyle()},[r("div",{staticClass:"header"},[r("div",{staticClass:"num"},[t._v("#"+t._s(t.index))]),r("div",{staticClass:"text"},[r("h3",{staticClass:"name"},[t._v(t._s(t.name.toUpperCase()))])])]),r("img",{attrs:{src:t.image}}),r("div",{staticClass:"skills"},t._l(t.filteredStats,(function(e){return r("div",{key:e.value,staticClass:"skill"},[r("span",[t._v(t._s(t.getFeatureTitle(e.name).toUpperCase()))]),t._v(" "+t._s((100*e.value).toFixed(1))+" ")])})),0)]):t._e(),r("div",{staticClass:"download d-flex flex-row justify-center my-5",attrs:{align:"center"}},[t.isIOS?t._e():r("v-btn",{attrs:{color:"primary",align:"center"},on:{click:function(e){return e.stopPropagation(),t.card.downloadCardImage(t.$refs,t.id,t.name)}}},[r("v-icon",{staticClass:"mr-2"},[t._v("mdi-download")]),t._v(" Download card ")],1)],1)]),r("div",{ref:t.id+"-"+t.name+"-DIV",staticStyle:{height:"0",overflow:"hidden"}})])},ft=[],ht={name:"Card",data:function(){return{card:{},filteredStats:[],lightColor:"",darkColor:"",cardImage:null}},props:["stats","colors","image","artist","name","index","id","isIOS"],mounted:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.card=new st,this.filteredStats=this.card.getStats(this.stats),t.next=4,this.colors.then((function(t){e.lightColor=t[0],e.darkColor=t[1]}));case 4:return t.next=6,this.filteredStats;case 6:if(t.t0=t.sent,!t.t0){t.next=9;break}this.card.generateClone(this.$refs,this.id,this.name);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getFeatureTitle:function(t){return this.card.getFeatureText(t)},dynamicStyle:function(){var t="background-image: linear-gradient(to right, ".concat(this.lightColor,", ").concat(this.darkColor,";"),e=this.$vuetify.breakpoint.smAndDown?"width: 90%; font-size: 0.8em;":"width: 400px;";return"".concat(t," ").concat(e)}}},gt=ht,vt=(r("59a7"),Object(d["a"])(gt,pt,ft,!1,null,"744991de",null)),bt=vt.exports;p()(vt,{VBtn:f["a"],VIcon:D["a"]});var kt=r("0621"),wt=function t(e){var r=this;Object(rt["a"])(this,t),Object(at["a"])(this,"lightColor",void 0),Object(at["a"])(this,"darkColor",void 0),Object(at["a"])(this,"mutedColor",void 0),Object(at["a"])(this,"lightMutedColor",void 0),Object(at["a"])(this,"darkMutedColor",void 0),Object(at["a"])(this,"vibrantColor",void 0),Object(at["a"])(this,"setPageBackground",(function(t){return r.vibrantInstance.getPalette().then((function(e){return t.style.backgroundImage="linear-gradient(to bottom right, \n    ".concat(e.LightVibrant.getHex(),", \n    ").concat(e.DarkVibrant.getHex())}))})),Object(at["a"])(this,"getDarkColor",Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.vibrantInstance.getPalette().then((function(t){return t.DarkVibrant.hex}));case 2:return t.abrupt("return",r.darkColor=t.sent);case 3:case"end":return t.stop()}}),t)})))),Object(at["a"])(this,"getLightColor",Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.vibrantInstance.getPalette().then((function(t){return t.LightVibrant.hex}));case 2:return t.abrupt("return",r.lightColor=t.sent);case 3:case"end":return t.stop()}}),t)})))),Object(at["a"])(this,"getMutedColor",Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.vibrantInstance.getPalette().then((function(t){return t.Muted.hex}));case 2:return t.abrupt("return",r.mutedColor=t.sent);case 3:case"end":return t.stop()}}),t)})))),Object(at["a"])(this,"getLightMutedColor",Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.vibrantInstance.getPalette().then((function(t){return t.LightMuted.hex}));case 2:return t.abrupt("return",r.lightMutedColor=t.sent);case 3:case"end":return t.stop()}}),t)})))),Object(at["a"])(this,"getDarkMutedColor",Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.vibrantInstance.getPalette().then((function(t){return t.DarkMuted.hex}));case 2:return t.abrupt("return",r.darkMutedColor=t.sent);case 3:case"end":return t.stop()}}),t)})))),Object(at["a"])(this,"getVibrantColor",Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.vibrantInstance.getPalette().then((function(t){return t.Vibrant.hex}));case 2:return t.abrupt("return",r.vibrantColor=t.sent);case 3:case"end":return t.stop()}}),t)})))),this.vibrantInstance=new kt(e)},xt={name:"OtherTracks",data:function(){return{generalTopFeature:""}},components:{Card:bt},props:["myTopTracks","isIOS"],mounted:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getColors:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new wt(t),n=[],e.next=4,r.getLightColor().then((function(t){return n.push(t)}));case 4:return e.next=6,r.getDarkColor().then((function(t){return n.push(t)}));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))()},getStats:function(t){var e=[],r=Object.keys(this.getSongFeatures(t));return r.map((function(n){return r.find((function(r){r===n&&e.push({name:r,value:t[r]})}))})),e},getSongFeatures:function(t){var e={};return e.acousticness=t.acousticness,e.danceability=t.danceability,e.energy=t.energy,e.instrumentalness=t.instrumentalness,e.speechiness=t.speechiness,e.valence=t.valence,e}}},yt=xt,_t=r("5e66"),Ct=r("3e35"),Ot=Object(d["a"])(yt,dt,mt,!1,null,null,null),Tt=Ot.exports;p()(Ot,{VCarousel:_t["a"],VCarouselItem:Ct["a"]});r("5319"),r("841c");var St=r("be8d"),Lt=r("72bf"),It=r.n(Lt),jt=function(){return It.a.parse(window.location.search).access_token},Vt=function(t){var e=jt();return t.setAccessToken(e)},Rt=function(t){return t.setAccessToken(null)},At=function(){var t="https://www.spotify.com/logout/",e=window.open(t,"Spotify Logout","width=700,height=500,top=40,left=40");setTimeout((function(){return e.close()}),2e3)},Pt=function(){var t=window.location.href,e=t.split(/[?#]/)[0];return e},Mt=function(){var t=Pt();window.location.replace(t)},Ft=function(t){Mt(),Rt(t),At()},$t=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new St,Vt(e),t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Dt={data:function(){return{isLoggedOut:!0,drawer:!1,isIOS:null,chosenTime:"short_term",colors:{},token:"",spotify:"",user:"",topTrack:"",isLoading:!0,topTrackData:"",otherTopArtistsTopTracks:[],myTopTracks:{tracks:[],audioFeatures:[]},topArtist:{},topArtistImage:"",artistTopTracksAudioFeatures:[]}},name:"App",components:{Login:v,Loading:T,MobileNavigation:J,SideNavigation:Z,OtherTracks:Tt,PrismCard:lt},computed:{isMobile:{get:function(){return this.$vuetify.breakpoint.smAndDown}}},created:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isIOS="iOS"===this.getOS(),t.next=3,$t();case 3:return this.spotify=t.sent,t.next=6,this.makeRequests(this.spotify);case 6:this.isLoading=!1,this.colors=new wt(this.topTrack.album.images[0].url);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{makeRequests:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.isLoading=!0,r.prev=1,r.next=4,t.getMe().then((function(t){if(401===t.status)return e.isLoggedOut=!0,void(e.isLoading=!1);e.user=t,e.isLoggedOut=!1}));case 4:return r.next=6,t.getMyTopTracks({time_range:e.chosenTime}).then((function(t){return t.items[0]}));case 6:return e.topTrack=r.sent,r.next=9,t.getAudioFeaturesForTrack(e.topTrack.id);case 9:return e.topTrackData=r.sent,r.next=12,t.getMyTopTracks({limit:10,time_range:e.chosenTime}).then((function(t){var e=t.items;return e.shift(),e}));case 12:return e.myTopTracks.tracks=r.sent,n=e.myTopTracks.tracks.map((function(t){return t.id})),r.next=16,t.getAudioFeaturesForTracks(n).then((function(t){return t.audio_features}));case 16:return e.myTopTracks.audioFeatures=r.sent,r.next=19,t.getArtist(e.topTrack.artists[0].id);case 19:return e.topArtist=r.sent,e.topArtistImage=e.topArtist.images[0].url,r.next=23,t.getArtist(e.topTrack.artists[0].id);case 23:e.topArtist=r.sent,e.topArtistImage=e.topArtist.images[0].url,r.next=30;break;case 27:r.prev=27,r.t0=r["catch"](1),window.console.log(r.t0);case 30:case"end":return r.stop()}}),r,null,[[1,27]])})))()},logout:function(){this.isLoggedOut=!0,Ft(this.spotify)},setTimeSpan:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.chosenTime=t,r.next=3,e.makeRequests(e.spotify);case 3:e.isLoading=!1;case 4:case"end":return r.stop()}}),r)})))()},getOS:function(){var t=window.navigator.userAgent,e=window.navigator.platform,r=["Macintosh","MacIntel","MacPPC","Mac68K"],n=["Win32","Win64","Windows","WinCE"],a=["iPhone","iPad","iPod"],i=null;return-1!==r.indexOf(e)?i="Mac OS":-1!==a.indexOf(e)?i="iOS":-1!==n.indexOf(e)?i="Windows":/Android/.test(t)?i="Android":!i&&/Linux/.test(e)&&(i="Linux"),i}}},Et=Dt,Nt=(r("5c0b"),r("7496")),Bt=r("40dc"),Ut=r("5bc1"),Wt=r("f6c4"),zt=r("2a7f"),Ht=Object(d["a"])(Et,a,i,!1,null,null,null),qt=Ht.exports;p()(Ht,{VApp:Nt["a"],VAppBar:Bt["a"],VAppBarNavIcon:Ut["a"],VBtn:f["a"],VCol:y["a"],VContainer:h["a"],VMain:Wt["a"],VRow:C["a"],VToolbarTitle:zt["a"]});r("5363");var Jt=r("f309"),Gt=r("fcf4");n["a"].use(Jt["a"]);var Kt=new Jt["a"]({icons:{iconfont:"mdi"},theme:{dark:!0,themes:{dark:{primary:Gt["a"].cyan.darken2,secondary:Gt["a"].pink.darken2,accent:Gt["a"].purple.darken2,error:Gt["a"].red.darken2}}}});n["a"].config.productionTip=!1,new n["a"]({vuetify:Kt,render:function(t){return t(qt)}}).$mount("#app")},"59a7":function(t,e,r){"use strict";var n=r("68fb"),a=r.n(n);a.a},"5c0b":function(t,e,r){"use strict";var n=r("9c0c"),a=r.n(n);a.a},"68fb":function(t,e,r){},"9c0c":function(t,e,r){},f1ab:function(t,e,r){"use strict";var n=r("5261"),a=r.n(n);a.a}});
//# sourceMappingURL=app.984059ac.js.map